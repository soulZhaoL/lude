# æ’é™¤å› å­é…ç½®æ–‡ä»¶ - ç®€åŒ–ç‰ˆæœ¬
# ğŸ¯ è®¾è®¡åŸåˆ™ï¼šä»¥åŸå§‹å› å­åä¸ºkeyï¼Œä½¿ç”¨lower/upperç»Ÿä¸€çº¦æŸç±»å‹
# ğŸ“Š ç®€åŒ–é…ç½®ç»“æ„ï¼Œåªä½¿ç”¨lower(ä¸‹é™)å’Œupper(ä¸Šé™)ä¸¤ç§çº¦æŸ
# âœ… ç§»é™¤normalæ¦‚å¿µï¼Œè¯­ä¹‰æ›´æ¸…æ™°ï¼šlower=æœ€å°å€¼çº¦æŸï¼Œupper=æœ€å¤§å€¼çº¦æŸ

filter_factors:
  # ========== ğŸ’° ä»·å€¼ç±»å› å­ (åŸºäºæŠ•èµ„é€»è¾‘ï¼Œä»…éœ€å•å‘çº¦æŸ) ==========
  
  pure_value:
    name: "çº¯å€ºä»·å€¼"
    data_type: "numeric"
    desc: "çº¯å€ºä»·å€¼æä¾›ä¸‹è¡Œä¿æŠ¤ï¼Œæ°¸è¿œä¸åº”æ’é™¤é«˜ä»·å€¼å€ºåˆ¸"
    lower:
      operators: ["gte"]  # è®¾ç½®æœ€å°å€¼ï¼Œæ’é™¤ä½ä»·å€¼å€ºåˆ¸
      value_options: [75, 80, 85, 90]  # æ’é™¤ä½ä»·å€¼å€ºåˆ¸ï¼Œä¿ç•™æ‰€æœ‰é«˜ä»·å€¼
    # æŠ•èµ„é€»è¾‘: çº¯å€ºä»·å€¼è¶Šé«˜ï¼ŒæŠ•èµ„å®‰å…¨è¾¹é™…è¶Šå¤§

  theory_value:
    name: "ç†è®ºä»·å€¼"
    data_type: "numeric"
    desc: "ç†è®ºä»·å€¼æ˜¯ä¼°å€¼åŸºå‡†ï¼Œé«˜ä»·å€¼æ ‡çš„åŸºæœ¬é¢é€šå¸¸æ›´å¥½"
    lower:
      operators: ["gte"]  # è®¾ç½®æœ€å°å€¼ï¼Œæ’é™¤ä½ç†è®ºä»·å€¼
      value_options: [80, 90, 100, 110]  # æ’é™¤ä½ç†è®ºä»·å€¼
    # æŠ•èµ„é€»è¾‘: ç†è®ºä»·å€¼é«˜çš„å€ºåˆ¸æ›´å…·æŠ•èµ„å¸å¼•åŠ›

  conv_value:
    name: "è½¬è‚¡ä»·å€¼"
    data_type: "numeric"
    desc: "è½¬è‚¡ä»·å€¼é«˜è¯´æ˜æ­£è‚¡è¡¨ç°å¥½ï¼Œæ˜¯ç§¯æä¿¡å·"
    lower:
      operators: ["gte"]  # è®¾ç½®æœ€å°å€¼ï¼Œæ’é™¤è½¬è‚¡ä»·å€¼è¿‡ä½
      value_options: [50, 60, 70, 75]  # æ’é™¤è½¬è‚¡ä»·å€¼è¿‡ä½
    # æŠ•èµ„é€»è¾‘: è½¬è‚¡ä»·å€¼é«˜è¯´æ˜è½¬è‚¡æœ‰å¸å¼•åŠ›

  option_value:
    name: "æœŸæƒä»·å€¼"
    data_type: "numeric"
    desc: "æœŸæƒä»·å€¼é«˜è¯´æ˜æ³¢åŠ¨ç‡å’Œä¸Šæ¶¨ç©ºé—´å¤§"
    lower:
      operators: ["gte"]  # è®¾ç½®æœ€å°å€¼ï¼Œæ’é™¤æœŸæƒä»·å€¼è¿‡ä½
      value_options: [5, 10, 15]  # æ’é™¤æœŸæƒä»·å€¼è¿‡ä½
    # æŠ•èµ„é€»è¾‘: æœŸæƒä»·å€¼é«˜æ„å‘³ç€æœªæ¥æ”¶ç›Šæ½œåŠ›å¤§

  # ========== ğŸ“‰ æˆæœ¬ç±»å› å­ (åŸºäºæŠ•èµ„é€»è¾‘ï¼Œä»…éœ€å•å‘çº¦æŸ) ==========
  
  theory_conv_prem:
    name: "ç†è®ºæº¢ä»·ç‡"
    data_type: "numeric"
    desc: "æº¢ä»·ç‡è¶Šä½è½¬è‚¡æ”¶ç›Šè¶Šé«˜ï¼Œæ°¸è¿œä¸åº”æ’é™¤ä½æº¢ä»·å€ºåˆ¸"
    upper:
      operators: ["lte"]  # è®¾ç½®æœ€å¤§å€¼ï¼Œæ’é™¤é«˜æº¢ä»·å€ºåˆ¸
      value_options: [0.85, 0.9, 0.95, 1.0, 1.1, 1.2, 1.3]  # æ’é™¤é«˜æº¢ä»·å€ºåˆ¸
    # æŠ•èµ„é€»è¾‘: æº¢ä»·ç‡ä½æ˜¯æŠ•èµ„ä¼˜åŠ¿

  bond_prem:
    name: "çº¯å€ºæº¢ä»·ç‡"
    data_type: "numeric"
    desc: "çº¯å€ºæº¢ä»·ç‡ä½è¯´æ˜ç›¸å¯¹çº¯å€ºä»·å€¼æœ‰ä¼˜åŠ¿"
    upper:
      operators: ["lte"]  # è®¾ç½®æœ€å¤§å€¼ï¼Œæ’é™¤çº¯å€ºæº¢ä»·è¿‡é«˜
      value_options: [0.6, 0.7, 0.8, 1.0, 1.3]  # æ’é™¤çº¯å€ºæº¢ä»·è¿‡é«˜
    # æŠ•èµ„é€»è¾‘: çº¯å€ºæº¢ä»·è¿‡é«˜è¯´æ˜å€ºåˆ¸è¢«é«˜ä¼°

  # ========== ğŸ“ è§„æ¨¡ç±»å› å­ (åŸºäºæµåŠ¨æ€§é€»è¾‘ï¼Œä»…éœ€å•å‘çº¦æŸ) ==========
  
  issue_size:
    name: "å‘è¡Œè§„æ¨¡(äº¿)"
    data_type: "numeric"
    desc: "å¤§è§„æ¨¡å€ºåˆ¸æµåŠ¨æ€§å¥½ï¼Œæœºæ„è®¤å¯åº¦é«˜"
    lower:
      operators: ["gte"]  # è®¾ç½®æœ€å°å€¼ï¼Œæ’é™¤å°è§„æ¨¡å€ºåˆ¸
      value_options: [2, 3, 5]  # æ’é™¤å°è§„æ¨¡å€ºåˆ¸
    # æŠ•èµ„é€»è¾‘: è§„æ¨¡å¤§é€šå¸¸æ„å‘³ç€æ›´å¥½çš„æµåŠ¨æ€§å’Œä¿¡ç”¨è´¨é‡

  # ========== âš–ï¸ é£é™©ç±»å› å­ (éœ€è¦åŒå‘çº¦æŸï¼Œé¿å…æå€¼) ==========
  
  turnover:
    name: "æ¢æ‰‹ç‡"
    data_type: "numeric"
    desc: "æ¢æ‰‹ç‡éœ€è¦å¹³è¡¡æµåŠ¨æ€§ä¸è¶³å’Œå¼‚å¸¸äº¤æ˜“é£é™©"
    lower:
      operators: ["gte"]  # ä»…å…è®¸ >=
      value_options: [0.001, 0.003, 0.005, 0.007, 0.01]  # æ’é™¤æµåŠ¨æ€§è¿‡ä½
    upper:
      operators: ["lte"]  # ä»…å…è®¸ <=
      value_options: [0.5, 0.8, 2.0, 5.0]  # æ’é™¤å¼‚å¸¸é«˜æ¢æ‰‹
    # æŠ•èµ„é€»è¾‘: è¿‡ä½æ— æµåŠ¨æ€§ï¼Œè¿‡é«˜å¯èƒ½å¼‚å¸¸

  turnover_5:
    name: "5æ—¥æ¢æ‰‹ç‡"
    data_type: "numeric"
    desc: "5æ—¥ç´¯è®¡æ¢æ‰‹ç‡çš„é£é™©æ§åˆ¶"
    lower:
      operators: ["gte"]  # ä»…å…è®¸ >=
      value_options: [0.01, 0.02, 0.05]  # æ’é™¤5æ—¥æµåŠ¨æ€§è¿‡ä½
    upper:
      operators: ["lte"]  # ä»…å…è®¸ <=
      value_options: [2.0, 5.0, 8.0, 10.0, 15.0]  # æ’é™¤5æ—¥å¼‚å¸¸é«˜æ¢æ‰‹
    # æŠ•èµ„é€»è¾‘: 5æ—¥ç´¯è®¡æ¢æ‰‹çš„åˆç†èŒƒå›´æ§åˆ¶

  pct_chg:
    name: "æ¶¨è·Œå¹…"
    data_type: "numeric"
    desc: "æ¶¨è·Œå¹…ï¼Œæ’é™¤æç«¯ä¸Šæ¶¨æˆ–ä¸‹è·Œ"
    lower:
      operators: ["gte"]  # ä»…å…è®¸ >=
      value_options: [-0.15, -0.1, -0.05, -0.03]  # æ’é™¤æç«¯ä¸‹è·Œ
    upper:
      operators: ["lte"]  # ä»…å…è®¸ <=
      value_options: [0.008, 0.01, 0.015, 0.02]  # æ’é™¤æç«¯ä¸Šæ¶¨
    # æŠ•èµ„é€»è¾‘: æç«¯æ¶¨è·Œå¯èƒ½æ˜¯å¼‚å¸¸äº¤æ˜“æˆ–ç‰¹æ®Šäº‹ä»¶

  pct_chg_5:
    name: "5æ—¥æ¶¨è·Œå¹…"
    data_type: "numeric"
    desc: "5æ—¥æ¶¨è·Œå¹…çš„é£é™©æ§åˆ¶"
    lower:
      operators: ["gte"]  # ä»…å…è®¸ >=
      value_options: [-0.3, -0.2, -0.03, -0.015]  # æ’é™¤5æ—¥æç«¯ä¸‹è·Œ
    upper:
      operators: ["lte"]  # ä»…å…è®¸ <=
      value_options: [0.01, 0.015, 0.03, 0.05]  # æ’é™¤5æ—¥æç«¯ä¸Šæ¶¨
    # æŠ•èµ„é€»è¾‘: 5æ—¥æç«¯æ¶¨è·Œçš„é£é™©ç®¡ç†

  pct_chg_5_stk:
    name: "æ­£è‚¡5æ—¥æ¶¨è·Œå¹…"
    data_type: "numeric"
    desc: "æ­£è‚¡5æ—¥æ¶¨è·Œå¹…å½±å“è½¬å€ºè¡¨ç°"
    lower:
      operators: ["gte"]  # ä»…å…è®¸ >=
      value_options: [-0.2, -0.15, -0.08]  # æ’é™¤æ­£è‚¡æç«¯ä¸‹è·Œ
    upper:
      operators: ["lte"]  # ä»…å…è®¸ <=
      value_options: [0.065, 0.07, 0.08, 0.1]  # æ’é™¤æ­£è‚¡æç«¯ä¸Šæ¶¨
    # æŠ•èµ„é€»è¾‘: æ­£è‚¡æç«¯æ¶¨è·Œå½±å“è½¬å€ºè¡¨ç°

  alpha_pct_chg_5:
    name: "5æ—¥è¶…é¢æ¶¨è·Œå¹…"
    data_type: "numeric"
    desc: "5æ—¥è¶…é¢æ¶¨è·Œå¹…çš„é£é™©ç®¡ç†"
    lower:
      operators: ["gte"]  # ä»…å…è®¸ >=
      value_options: [-0.1, -0.07, -0.06, -0.05]  # æ’é™¤æç«¯è´Ÿè¶…é¢
    upper:
      operators: ["lte"]  # ä»…å…è®¸ <=
      value_options: [0.04, 0.06, 0.08, 0.1]  # æ’é™¤æç«¯æ­£è¶…é¢
    # æŠ•èµ„é€»è¾‘: è¶…é¢æ”¶ç›Šæå€¼çš„é£é™©ç®¡ç†

  bias_5:
    name: "5æ—¥ä¹–ç¦»ç‡"
    data_type: "numeric"
    desc: "5æ—¥ä¹–ç¦»ç‡çš„å›å½’é£é™©æ§åˆ¶"
    lower:
      operators: ["gte"]  # ä»…å…è®¸ >=
      value_options: [-0.1, -0.05, -0.01, -0.008]  # æ’é™¤æç«¯è´Ÿä¹–ç¦»
    upper:
      operators: ["lte"]  # ä»…å…è®¸ <=
      value_options: [0.01, 0.03, 0.05]  # æ’é™¤æç«¯æ­£ä¹–ç¦»
    # æŠ•èµ„é€»è¾‘: è¿‡åº¦ä¹–ç¦»å¾€å¾€ä¼´éšå›å½’å‹åŠ›

  theory_bias:
    name: "ç†è®ºåç¦»åº¦"
    data_type: "numeric"
    desc: "ç†è®ºåç¦»åº¦çš„é£é™©æ§åˆ¶"
    lower:
      operators: ["gte"]  # ä»…å…è®¸ >=
      value_options: [-0.5, -0.3, -0.15, -0.1]  # æ’é™¤æç«¯è´Ÿåç¦»
    upper:
      operators: ["lte"]  # ä»…å…è®¸ <=
      value_options: [0.075, 0.1, 0.3, 0.5]  # æ’é™¤æç«¯æ­£åç¦»
    # æŠ•èµ„é€»è¾‘: ç†è®ºåç¦»è¿‡å¤§è¯´æ˜å®šä»·å¤±æ•ˆ

# æ’é™¤å› å­ç»„åˆè§„åˆ™
combination_rules:
  max_factors: 2  # ä¿æŒç®€æ´
  max_combinations: 6000
  # ğŸš¨ æ³¨æ„: åŒä¸€å› å­çš„lowerå’Œupperçº¦æŸä¸èƒ½åŒæ—¶é€‰æ‹©

# è¿‡æ‹Ÿåˆæ£€æµ‹é…ç½®
overfitting_detection:
  # æ—¶é—´æ®µç¨³å®šæ€§æ£€æŸ¥çš„å˜å¼‚ç³»æ•°é˜ˆå€¼
  time_stability:
    # æ­£å¸¸æƒ…å†µä¸‹çš„å˜å¼‚ç³»æ•°é˜ˆå€¼ï¼ˆæ— å¼‚å¸¸å€¼æ—¶ä½¿ç”¨ï¼‰
    normal_cv_threshold: 1.2
    # æ£€æµ‹åˆ°å¼‚å¸¸å€¼æ—¶çš„å®½æ¾å˜å¼‚ç³»æ•°é˜ˆå€¼
    outlier_tolerant_cv_threshold: 1.5
    # å¼‚å¸¸å€¼æ£€æµ‹çš„IQRå€æ•°
    outlier_iqr_multiplier: 1.5
    # å…è®¸çš„æœ€å¤§å¼‚å¸¸çª—å£æ•°é‡ï¼ˆè¶…è¿‡æ­¤æ•°é‡ä½¿ç”¨ä¸¥æ ¼é˜ˆå€¼ï¼‰
    max_outlier_windows: 2

# ========== ğŸ¯ ç®€åŒ–è®¾è®¡æ€»ç»“ ==========
#
# ğŸ“Š ç®€åŒ–ä¼˜åŠ¿:
# 1. æ¦‚å¿µç»Ÿä¸€: åªä½¿ç”¨lower/upperä¸¤ç§çº¦æŸç±»å‹ï¼Œè¯­ä¹‰æ›´æ¸…æ™°
# 2. ä»£ç ç®€åŒ–: ç§»é™¤ä¸‰åˆ†æ”¯åˆ¤æ–­ï¼Œåªéœ€å¤„ç†ä¸¤ç§æƒ…å†µ  
# 3. é…ç½®ç®€åŒ–: å‡å°‘é…ç½®å±‚çº§ï¼Œé™ä½å¤æ‚åº¦
# 4. é€»è¾‘ç›´è§‚: lower=æœ€å°å€¼çº¦æŸï¼Œupper=æœ€å¤§å€¼çº¦æŸ
#
# ğŸ”§ çº¦æŸç±»å‹è¯´æ˜:
# - lower: ä¸‹é™çº¦æŸï¼Œè®¾ç½®æœ€å°å€¼ï¼Œæ’é™¤è¿‡ä½çš„å€¼ï¼ˆåŸnormalä¸­çš„gteçº¦æŸï¼‰
# - upper: ä¸Šé™çº¦æŸï¼Œè®¾ç½®æœ€å¤§å€¼ï¼Œæ’é™¤è¿‡é«˜çš„å€¼ï¼ˆåŸnormalä¸­çš„lteçº¦æŸï¼‰
# - lower+upper: åŒå‘çº¦æŸï¼Œé¿å…æå€¼é£é™©
#
# âœ… ç§»é™¤normalçš„å¥½å¤„:
# 1. æ¦‚å¿µæ›´ç›´è§‚: lower/upperç›´æ¥å¯¹åº”çº¦æŸæ–¹å‘
# 2. ä»£ç æ›´ç®€æ´: å‡å°‘æ¡ä»¶åˆ†æ”¯åˆ¤æ–­
# 3. é…ç½®æ›´æ¸…æ™°: çº¦æŸè¯­ä¹‰ä¸€ç›®äº†ç„¶
# 4. ç»´æŠ¤æ›´å®¹æ˜“: ç»Ÿä¸€çš„é…ç½®ç»“æ„
#
# ğŸ¯ é¢„æœŸæ•ˆæœ:
# - é…ç½®ç»“æ„æ›´ç®€æ´æ¸…æ™°
# - ä»£ç é€»è¾‘æ›´ç›´è§‚æ˜“æ‡‚
# - ç»´æŠ¤æˆæœ¬æ˜¾è‘—é™ä½
# - çº¦æŸè¯­ä¹‰æ›´åŠ æ˜ç¡®